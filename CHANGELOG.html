<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>changelog – CCBR Tools</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./LICENSE.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-bb6dee1ee91810f832b829d6ba5b7d49.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-f3ed4a5333b75538b6088cc8ea554d4d.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-d292715e8f8da2f561e717d4032bffbf.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-63f7b746c88c852fb6bf793ac99edb48.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked nav-fixed quarto-dark"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = true;
    const darkModeDefault = authorPrefersDark;
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">CCBR Tools</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-docs" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Docs</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-docs">    
        <li>
    <a class="dropdown-item" href="./index.html">
 <span class="dropdown-text">Home</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Usage</li>
        <li>
    <a class="dropdown-item" href="./cli.html">
 <span class="dropdown-text">Command line interface</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./scripts.html">
 <span class="dropdown-text">External scripts</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Project information</li>
        <li>
    <a class="dropdown-item" href="./cite.html">
 <span class="dropdown-text">Citation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./CONTRIBUTING.html">
 <span class="dropdown-text">Contributing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./contributors.html">
 <span class="dropdown-text">Contributors</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./LICENSE.html">
 <span class="dropdown-text">License</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./CHANGELOG.html">
 <span class="dropdown-text">Changelog</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/CCBR/Tools"> <i class="bi bi-github" role="img" aria-label="CCBR/Tools GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./cite.html">Project information</a></li><li class="breadcrumb-item"><a href="./CHANGELOG.html">Changelog</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Usage</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cli.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Command line interface</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./scripts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">External scripts</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./reference/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python API reference</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">  
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Project information</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cite.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Citation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CONTRIBUTING.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Contributing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./contributors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Contributors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./LICENSE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">License</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CHANGELOG.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Changelog</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#tools-development-version" id="toc-tools-development-version" class="nav-link active" data-scroll-target="#tools-development-version">Tools development version</a></li>
  <li><a href="#tools-0.4.5" id="toc-tools-0.4.5" class="nav-link" data-scroll-target="#tools-0.4.5">Tools 0.4.5</a></li>
  <li><a href="#tools-0.4.4" id="toc-tools-0.4.4" class="nav-link" data-scroll-target="#tools-0.4.4">Tools 0.4.4</a></li>
  <li><a href="#tools-0.4.3" id="toc-tools-0.4.3" class="nav-link" data-scroll-target="#tools-0.4.3">Tools 0.4.3</a></li>
  <li><a href="#tools-0.4.2" id="toc-tools-0.4.2" class="nav-link" data-scroll-target="#tools-0.4.2">Tools 0.4.2</a></li>
  <li><a href="#tools-0.4.1" id="toc-tools-0.4.1" class="nav-link" data-scroll-target="#tools-0.4.1">Tools 0.4.1</a></li>
  <li><a href="#tools-0.4.0" id="toc-tools-0.4.0" class="nav-link" data-scroll-target="#tools-0.4.0">Tools 0.4.0</a>
  <ul class="collapse">
  <li><a href="#new-features" id="toc-new-features" class="nav-link" data-scroll-target="#new-features">New features</a></li>
  <li><a href="#bug-fixes" id="toc-bug-fixes" class="nav-link" data-scroll-target="#bug-fixes">Bug fixes</a></li>
  </ul></li>
  <li><a href="#tools-0.3.2" id="toc-tools-0.3.2" class="nav-link" data-scroll-target="#tools-0.3.2">Tools 0.3.2</a></li>
  <li><a href="#tools-0.3.1" id="toc-tools-0.3.1" class="nav-link" data-scroll-target="#tools-0.3.1">Tools 0.3.1</a></li>
  <li><a href="#tools-0.3.0" id="toc-tools-0.3.0" class="nav-link" data-scroll-target="#tools-0.3.0">Tools 0.3.0</a></li>
  <li><a href="#tools-0.2.4" id="toc-tools-0.2.4" class="nav-link" data-scroll-target="#tools-0.2.4">Tools 0.2.4</a></li>
  <li><a href="#tools-0.2.3" id="toc-tools-0.2.3" class="nav-link" data-scroll-target="#tools-0.2.3">Tools 0.2.3</a></li>
  <li><a href="#tools-0.2.2" id="toc-tools-0.2.2" class="nav-link" data-scroll-target="#tools-0.2.2">Tools 0.2.2</a></li>
  <li><a href="#tools-0.2.1" id="toc-tools-0.2.1" class="nav-link" data-scroll-target="#tools-0.2.1">Tools 0.2.1</a></li>
  <li><a href="#tools-0.2.0" id="toc-tools-0.2.0" class="nav-link" data-scroll-target="#tools-0.2.0">Tools 0.2.0</a></li>
  <li><a href="#tools-0.1.4" id="toc-tools-0.1.4" class="nav-link" data-scroll-target="#tools-0.1.4">Tools 0.1.4</a></li>
  <li><a href="#tools-0.1.3" id="toc-tools-0.1.3" class="nav-link" data-scroll-target="#tools-0.1.3">Tools 0.1.3</a></li>
  <li><a href="#tools-0.1.2" id="toc-tools-0.1.2" class="nav-link" data-scroll-target="#tools-0.1.2">Tools 0.1.2</a></li>
  <li><a href="#tools-0.1.1" id="toc-tools-0.1.1" class="nav-link" data-scroll-target="#tools-0.1.1">Tools 0.1.1</a></li>
  <li><a href="#tools-0.1.0" id="toc-tools-0.1.0" class="nav-link" data-scroll-target="#tools-0.1.0">Tools 0.1.0</a>
  <ul class="collapse">
  <li><a href="#cli-utilities" id="toc-cli-utilities" class="nav-link" data-scroll-target="#cli-utilities">CLI Utilities</a></li>
  <li><a href="#external-scripts" id="toc-external-scripts" class="nav-link" data-scroll-target="#external-scripts">External Scripts</a></li>
  </ul></li>
  <li><a href="#tools-0.0.1" id="toc-tools-0.0.1" class="nav-link" data-scroll-target="#tools-0.0.1">Tools 0.0.1</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/CCBR/Tools/edit/main/CHANGELOG.md" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/CCBR/Tools/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./cite.html">Project information</a></li><li class="breadcrumb-item"><a href="./CHANGELOG.html">Changelog</a></li></ol></nav></header>





<section id="tools-development-version" class="level2">
<h2 class="anchored" data-anchor-id="tools-development-version">Tools development version</h2>
</section>
<section id="tools-0.4.5" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.4.5">Tools 0.4.5</h2>
<ul>
<li>Fix how jobby parses slurm stdout/stderr files. (#122, <span class="citation" data-cites="kopardev">@kopardev</span>, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>The <code>run_jobby_on_*</code> scripts are now deprecated in favor of using <code>jobby</code> directly. (#123, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>Use miniforge3 installation on biowulf. (#124, #127, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul>
</section>
<section id="tools-0.4.4" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.4.4">Tools 0.4.4</h2>
<ul>
<li>Fixes for <code>ccbr_tools install</code>: (#98, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)
<ul>
<li>Correct installation method for <code>spacesavers2</code>.</li>
<li>Change symlink permissions so group members can edit them.</li>
</ul></li>
<li>Allow nextflow pipelines to specify walltime &amp; memory usage for the slurm submission template. (#116, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul>
</section>
<section id="tools-0.4.3" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.4.3">Tools 0.4.3</h2>
<ul>
<li>Add standalone script to retrieve HPC cluster name. (#93, <span class="citation" data-cites="kopardev">@kopardev</span>)</li>
<li><code>module_list</code> now retrieves the full module version. (#93, <span class="citation" data-cites="kopardev">@kopardev</span>)</li>
</ul>
</section>
<section id="tools-0.4.2" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.4.2">Tools 0.4.2</h2>
<ul>
<li>Fix <code>ccbr_tools install</code>: add group write permissions after installation. (#89, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>Updates to <code>nextflow.run()</code>: (#90, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)
<ul>
<li>Allow pipelines to pass in module versions.
<ul>
<li>This is needed for the next version of champagne which will use nextflow v25 for the new output directive, while other pipelines will continue to use the default nextflow module version.</li>
</ul></li>
<li>Ensure <code>nextflow.run()</code> stops if the nextflow preview errors out.</li>
</ul></li>
</ul>
</section>
<section id="tools-0.4.1" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.4.1">Tools 0.4.1</h2>
<ul>
<li><strong>Breaking change</strong>: Spooker now takes named options rather than positional arguments. (#85, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>jobby now omits log columns when the format is markdown, even if <code>--outerr</code> is used. (#86, <span class="citation" data-cites="kopardev">@kopardev</span>)</li>
<li>Minor documentation improvements. (#81, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul>
</section>
<section id="tools-0.4.0" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.4.0">Tools 0.4.0</h2>
<section id="new-features" class="level3">
<h3 class="anchored" data-anchor-id="new-features">New features</h3>
<ul>
<li><code>jobby</code> overhaul (#59, #75, <span class="citation" data-cites="kopardev">@kopardev</span>)
<ul>
<li>Uses <code>saccount</code> to get slurm job information, which should work for any HPC running slurm.</li>
<li>Has options <code>--tsv</code>, <code>--json</code>, and <code>--yaml</code> to output the job information in those formats. If not specified, markdown is used.</li>
<li>Can accept a snakemake log file, nextflow log file, or a list of slurm job IDs as input.</li>
<li>Can include the job stdout/stderr log files (<code>--outerr</code>) for only failed jobs or all jobs (<code>--include-completed</code>). (#71, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul></li>
<li><code>module_list</code> is a new utility to list all loaded modules as JSON or retrieve the version of a specific module. (#63, <span class="citation" data-cites="kopardev">@kopardev</span>)</li>
<li><code>ccbr_tools install</code> has new options: (#60, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)
<ul>
<li><code>--type</code> to specify the type of tool to install (e.g.&nbsp;<code>PythonTool</code>, <code>BashTool</code>, <code>Snakemake</code>, or <code>Nextflow</code>).</li>
<li><code>--hpc</code> (e.g.&nbsp;<code>biowulf</code>, <code>frce</code>) to specify the HPC environment for debugging purposes.</li>
</ul></li>
<li><code>spooker</code> updates:
<ul>
<li>Now accepts the path to the pipeline CLI as an optional argument. (#69, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>Now bundles all pipeline information into a single gzipped JSON file. (#71, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)
<ul>
<li>A tar archive is no longer created, as only one file is now needed.</li>
<li>The tree &amp; jobby information are included as strings in the JSON file.</li>
</ul></li>
</ul></li>
<li>New shared conda environment on biowulf: <code>py3.11-8</code> for ccbrpipeliner/8. (#79, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul>
</section>
<section id="bug-fixes" class="level3">
<h3 class="anchored" data-anchor-id="bug-fixes">Bug fixes</h3>
<ul>
<li>Fix <code>ccbr_tools install</code>: use relative paths for symlinks within the same directory. (#58, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul>
</section>
</section>
<section id="tools-0.3.2" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.3.2">Tools 0.3.2</h2>
<ul>
<li>Fix <code>ccbr_tools install</code>: use the full path to the conda env on biowulf. (#64, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul>
</section>
<section id="tools-0.3.1" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.3.1">Tools 0.3.1</h2>
<ul>
<li>Bug fixes in <code>ccbr_tools install</code>:
<ul>
<li>ccbr_tools &amp; ccbr_actions were using incorrect repo names. (#53, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>absolute paths were not being used for the symlinks. (#55, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul></li>
<li>Minor documentation improvements. (#54, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul>
</section>
<section id="tools-0.3.0" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.3.0">Tools 0.3.0</h2>
<ul>
<li>Allow relaxed version with only major and minor components in <code>match_semver()</code> with <code>strict_semver=False</code>. (#49, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>Remove <code>args</code> and add <code>repo</code> parameter to <code>get_latest_release_tag()</code> and <code>get_latest_release_hash()</code>. (#51, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul>
</section>
<section id="tools-0.2.4" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.2.4">Tools 0.2.4</h2>
<ul>
<li>Fix <code>ccbr_tools.pipeline.nextflow.run</code>: (#46, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)
<ul>
<li>make sure preview loads necessary modules.</li>
<li>improve stack trace when nextflow command fails.</li>
</ul></li>
<li>New theme templates based on the FNL branding guide: (#47, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)
<ul>
<li><code>mkdocs-fnl</code> for websites built with mkdocs material.</li>
<li><code>pkgdown-fnl</code> for R package websites built with pkgdown.</li>
</ul></li>
<li>Create helper to install software on supported HPCs.
<ul>
<li>usage: <code>ccbr_tools install TOOL_NAME VERSION_TAG</code></li>
</ul></li>
</ul>
</section>
<section id="tools-0.2.3" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.2.3">Tools 0.2.3</h2>
<ul>
<li>Output ccbrpipeliner module version in spooker metadata. (#43, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>Spooker now correctly outputs metadata as a yaml file. (#43, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>Improvements to <code>ccbr_tools.pipeline.nextflow.run</code>: (#44, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)
<ul>
<li>Use <code>-resume</code> by default and turn it off with <code>--forceall</code>.</li>
<li>Use <code>--output</code> option.</li>
<li>Run <code>-preview</code> before launching the pipeline with slurm.</li>
<li>When running on biowulf, try adding spooker to the PATH if it’s not available.</li>
</ul></li>
</ul>
</section>
<section id="tools-0.2.2" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.2.2">Tools 0.2.2</h2>
<ul>
<li>Fix bug where spooker failed when more than 2 arguments were passed. (#41, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul>
</section>
<section id="tools-0.2.1" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.2.1">Tools 0.2.1</h2>
<ul>
<li>Spooker update: accept pipeline version as an optional third positional argument. (#39, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>Bump cffconvert version for compatibility with nf-schema. (#38, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul>
</section>
<section id="tools-0.2.0" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.2.0">Tools 0.2.0</h2>
<ul>
<li>new commands:
<ul>
<li><code>ccbr_tools send-email</code> for sending emails from the command line. (#26, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)
<ul>
<li>With new helper function: <code>send_email.send_email_msg()</code>.</li>
<li>Works when run from biowulf.</li>
</ul></li>
<li><code>ccbr_tools quarto-add</code> to add quarto extensions from this package. (#30, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)
<ul>
<li>Includes new format <code>fnl</code> for our documentation websites.</li>
</ul></li>
</ul></li>
<li>new functions for creating a contributors page for documentation websites: <code>github.print_contributor_images()</code>. (#27, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>new script from <a href="https://github.com/CCBR/TaskManagement/tree/103c73d41858d400fba95ed2130d7d5653f243e0/scripts"><code>CCBR/TaskManagement</code></a>: <code>github_milestones.sh</code>. (#29, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>documentation improvements:
<ul>
<li>fix docstrings rendering – use Google style. (#25, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>overhaul navigation structure of docs website. (#28, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>style the website to follow FNL branding guidelines. (#30, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>miscellaneous minor improvements. (#32, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul></li>
<li>bug fixes:
<ul>
<li>include data files in package installation for <code>homologfinder</code>. (#31, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul></li>
</ul>
</section>
<section id="tools-0.1.4" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.1.4">Tools 0.1.4</h2>
<ul>
<li>fix copy location for spook. (<span class="citation" data-cites="kopardev">@kopardev</span>)</li>
</ul>
</section>
<section id="tools-0.1.3" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.1.3">Tools 0.1.3</h2>
<ul>
<li>fix shared SIF cache directory spelling for biowulf. (#23, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul>
</section>
<section id="tools-0.1.2" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.1.2">Tools 0.1.2</h2>
<ul>
<li>use major &amp; minor version for docs website subdirectories. (#15, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>fig bug where <code>nextflow.run()</code> did not import the correct HPC modules. (#20, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>fix bug in <code>_get_file_mtime()</code>. (#21, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul>
</section>
<section id="tools-0.1.1" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.1.1">Tools 0.1.1</h2>
<ul>
<li>fix: don’t add extra newline to command stdout/stderr for <code>shell_run()</code> and <code>exec_in_context()</code>. (#10, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
<li>minor docuemntation improvements. (#12, <span class="citation" data-cites="kelly-sovacool">@kelly-sovacool</span>)</li>
</ul>
</section>
<section id="tools-0.1.0" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.1.0">Tools 0.1.0</h2>
<p>The Tools repository is now restructured as a Python package. All previous python scripts which included command line utilities have been moved to <code>src/</code>, and all other scripts have been moved to <code>scripts/</code>. In both cases, they are available in the path when the package is installed.</p>
<p>Functions which were part of both XAVIER and RENEE are available for re-use in other bioinformatics pipelines for tasks such as determining the HPC environment, retrieving available genome annotations, and printing citation and version information. Explore the <code>ccbr_tools</code> reference documentation for more information: <a href="https://ccbr.github.io/Tools/reference/" class="uri">https://ccbr.github.io/Tools/reference/</a></p>
<section id="cli-utilities" class="level3">
<h3 class="anchored" data-anchor-id="cli-utilities">CLI Utilities</h3>
<p>Command-line utilities in CCBR Tools.</p>
<ul>
<li><code>ccbr_tools</code></li>
<li><code>gb2gtf</code></li>
<li><code>hf</code></li>
<li><code>intersect</code></li>
<li><code>jobby</code></li>
<li><code>jobinfo</code></li>
<li><code>peek</code></li>
</ul>
<p>Run a command with <code>--help</code> to learn how to use it.</p>
</section>
<section id="external-scripts" class="level3">
<h3 class="anchored" data-anchor-id="external-scripts">External Scripts</h3>
<p>Additional standalone scripts for various common tasks in <a href="./scripts/">scripts/</a> are added to the path when this package is installed. They are less robust than the CLI Utilities included in the package and do not have any unit tests.</p>
<ul>
<li><code>add_gene_name_to_count_matrix.R</code></li>
<li><code>aggregate_data_tables.R</code></li>
<li><code>argparse.bash</code></li>
<li><code>cancel_snakemake_jobs.sh</code></li>
<li><code>create_hpc_link.sh</code></li>
<li><code>extract_value_from_json.py</code></li>
<li><code>extract_value_from_yaml.py</code></li>
<li><code>filter_bam_by_readids.py</code></li>
<li><code>filter_fastq_by_readids_highmem.py</code></li>
<li><code>filter_fastq_by_readids_highmem_pe.py</code></li>
<li><code>gather_cluster_stats.sh</code></li>
<li><code>gather_cluster_stats_biowulf.sh</code></li>
<li><code>get_buyin_partition_list.bash</code></li>
<li><code>get_slurm_file_with_error.sh</code></li>
<li><code>gsea_preranked.sh</code></li>
<li><code>karyoploter.R</code></li>
<li><code>make_labels_for_pipeliner.sh</code></li>
<li><code>rawcounts2normalizedcounts_DESeq2.R</code></li>
<li><code>rawcounts2normalizedcounts_limmavoom.R</code></li>
<li><code>run_jobby_on_nextflow_log</code></li>
<li><code>run_jobby_on_nextflow_log_full_format</code></li>
<li><code>run_jobby_on_snakemake_log</code></li>
<li><code>run_jobby_on_snakemake_log_full_format</code></li>
<li><code>spooker</code></li>
<li><code>which_vpn.sh</code></li>
</ul>
</section>
</section>
<section id="tools-0.0.1" class="level2">
<h2 class="anchored" data-anchor-id="tools-0.0.1">Tools 0.0.1</h2>
<p>This tag marks the repository state from before refactoring it as a python package.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/ccbr\.github\.io\/Tools");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./LICENSE.html" class="pagination-link" aria-label="License">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">License</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Created by the <a href="https://github.com/CCBR">CCR Collaborative Bioinformatics Resource</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/CCBR/Tools/edit/main/CHANGELOG.md" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/CCBR/Tools/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>